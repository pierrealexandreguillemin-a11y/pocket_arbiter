{
  "timestamp": "2026-02-28",
  "description": "Audit complet Q/choices du GS v8 : verification semantique de TOUTES les sessions annales + correction",
  "methodology": {
    "approach": "Verification semantique exhaustive : pour chaque question, confirmer que le texte de la question et les choix ABCD portent sur le meme sujet. Cross-reference via docling_mcq_reference, detection de doublons (Q text + choice sets), et inspection manuelle de chaque session.",
    "verified_sessions": ["dec2019", "dec2021", "dec2022", "dec2023", "dec2024", "jun2021", "jun2022", "jun2023", "jun2024", "jun2025"],
    "pdf_sources": [
      "corpus/fr/Annales/Annales-Decembre-2024.pdf",
      "corpus/fr/Annales/Annales-Juin-2025-VF2.pdf"
    ],
    "detection_methods": [
      "Semantic inspection: Q topic vs choices topic mismatch",
      "Duplicate Q text with different choices (cross-UV proof)",
      "Identical choice sets across different questions",
      "Broken data (empty/image-only questions)"
    ]
  },
  "results": {
    "dec2019": {
      "total_before": 11,
      "qa_mismatches_removed": 5,
      "data_quality_removed": 1,
      "total_after": 5,
      "status": "CLEANED",
      "description": "5 game position/tournament Qs with wrong UV choices + 1 broken data (choices all '?')"
    },
    "dec2021": {
      "total_before": 18,
      "qa_mismatches_removed": 8,
      "total_after": 10,
      "status": "CLEANED",
      "description": "8 cross-UV mismatches: game rules Qs with clubs/admin choices and vice versa"
    },
    "dec2022": {
      "total_before": 6,
      "qa_mismatches_removed": 1,
      "total_after": 5,
      "status": "CLEANED",
      "description": "1 mismatch: clock settings Q with Elo rating choices"
    },
    "dec2023": {
      "total_before": 52,
      "qa_mismatches_removed": 12,
      "duplicates_removed": 1,
      "total_after": 39,
      "status": "CLEANED",
      "description": "12 rules block mismatches (tournament/admin Qs with game intervention choices) + 1 exact duplicate (clubs:041 = tournament:029)"
    },
    "dec2024": {
      "total_before": 92,
      "duplicates_removed": 3,
      "total_after": 89,
      "status": "CLEANED",
      "description": "Verified 100% clean on 59/59 Q/answers. 3 exact duplicates removed (rules:012=005, rules:014=007, rules:015=008). Remaining 89 questions all verified."
    },
    "jun2021": {
      "total_before": 42,
      "qa_mismatches_removed": 14,
      "coherent_duplicates_removed": 6,
      "data_quality_removed": 3,
      "total_after": 19,
      "status": "CLEANED (batch 1)",
      "description": "Same cross-UV pattern as jun2025, plus duplicates and broken data."
    },
    "jun2022": {
      "total_before": 24,
      "qa_mismatches_removed": 13,
      "total_after": 11,
      "status": "CLEANED",
      "description": "Massive cross-UV contamination: 12 clubs block Qs with rules choices + 1 rules duplicate. 54% contamination rate."
    },
    "jun2023": {
      "total_before": 30,
      "qa_mismatches_removed": 25,
      "total_after": 5,
      "status": "CLEANED",
      "description": "Worst-affected session: 83% contamination rate. Nearly all tournament pairing Qs paired with clubs/admin choices."
    },
    "jun2024": {
      "total_before": 47,
      "qa_mismatches_removed": 8,
      "total_after": 39,
      "status": "CLEANED",
      "description": "8 mismatches: 5 clubs block with tournament choices + 3 rules block with game intervention choices."
    },
    "jun2025": {
      "total_before": 64,
      "qa_mismatches_removed": 20,
      "data_quality_removed": 2,
      "total_after": 42,
      "status": "CLEANED",
      "description": "20 cross-UV mismatches (batch 1) + 1 duplicate Q with wrong choices + 1 image-only broken Q (batch 2)."
    }
  },
  "correction": {
    "date": "2026-02-28",
    "total_removed": 122,
    "batch_1": {
      "count": 43,
      "sessions": "jun2025 (20), jun2021 (23)",
      "archive": "data/benchmarks/removed_questions_qa_mismatch_2026-02-28.json"
    },
    "batch_2": {
      "count": 77,
      "sessions": "dec2019 (6), dec2021 (8), dec2022 (1), dec2023 (13), dec2024 (3), jun2022 (13), jun2023 (25), jun2024 (8)",
      "archive": "data/benchmarks/removed_questions_qa_mismatch_batch2_2026-02-28.json"
    },
    "batch_3": {
      "count": 2,
      "sessions": "jun2025 (2: 1 duplicate Q + 1 image-only)",
      "archive": "inline (open:036 + rules:064)"
    },
    "gs_before": "525 questions (386 annales + 40 human + 99 adversarial)",
    "gs_after": "403 questions (264 annales + 40 human + 99 adversarial)"
  },
  "findings": {
    "root_cause": "Systematic PDF extraction bug in docling: question TEXT extracted from one UV, CHOICES extracted from a different UV. Affects all sessions except dec2024.",
    "contamination_rates": {
      "jun2023": "83% (25/30)",
      "jun2021": "55% (23/42)",
      "jun2022": "54% (13/24)",
      "dec2019": "55% (6/11)",
      "dec2021": "44% (8/18)",
      "dec2023": "25% (13/52)",
      "jun2025": "34% (22/64)",
      "jun2024": "17% (8/47)",
      "dec2022": "17% (1/6)",
      "dec2024": "3% (3/92, duplicates only)"
    },
    "mcq_answer_accuracy": "100% verified on dec2024 (59/59). mcq_answer is internally consistent with choices, even for mismatched Qs.",
    "previous_clean_sessions_claim": "FALSE. Initial audit incorrectly claimed 8 sessions were clean. Full semantic review found contamination in ALL sessions except dec2024.",
    "recall_at_5_37pct": "REAL retrieval problem (measured before cleanup). Needs re-measurement on clean 304-question set."
  }
}

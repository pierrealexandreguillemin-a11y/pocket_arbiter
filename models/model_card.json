{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "modelCard": {
    "schemaVersion": "1.1.0",
    "projectName": "Pocket Arbiter",
    "projectDescription": "Application mobile 100% offline d'assistance a l'arbitrage d'echecs - Reglements FFE et FIDE",
    "lastUpdated": "2026-01-14"
  },

  "embeddingModel": {
    "name": "EmbeddingGemma-300M",
    "framework": "LiteRT (TensorFlow Lite)",
    "source": "litert-community/embeddinggemma-300m",
    "huggingface_url": "https://huggingface.co/litert-community/embeddinggemma-300m",
    "license": "Gemma License (Apache 2.0 derivative)",
    "specs": {
      "dimensions": 768,
      "dimensions_reduced": 256,
      "mrl_supported": true,
      "sequence_length": 256,
      "size_mb": 179,
      "quantization": "mixed-precision",
      "languages": "100+ including FR, EN"
    },
    "performance": {
      "latency_ms": 66,
      "backend": "CPU (XNNPACK)",
      "device": "mid-range Android"
    },
    "files": {
      "model": "embeddinggemma-300M_seq256_mixed-precision.tflite",
      "tokenizer": "sentencepiece.model"
    },
    "selectionRationale": "MTEB #1 under 500M params, native multilingue, optimal pour mid-range Android avec seq256",
    "selected": "2026-01-14"
  },

  "llmModel": {
    "name": "Gemma 3 270M IT",
    "framework": "MediaPipe LLM Inference API",
    "source": "litert-community/gemma-3-270m-it",
    "huggingface_url": "https://huggingface.co/litert-community/gemma-3-270m-it",
    "license": "Gemma License",
    "specs": {
      "parameters": "270M",
      "quantization": "int4",
      "size_mb": 200,
      "context_length": 2048
    },
    "performance": {
      "latency_s": "2-3",
      "backend": "CPU",
      "device": "mid-range Android"
    },
    "files": {
      "model": "gemma-3-270m-it.task"
    },
    "selectionRationale": "Plus petit LLM de la famille Gemma 3, compatible RAG SDK via import manuel, optimal pour mid-range",
    "backup": {
      "name": "Gemma 3 1B",
      "trigger": "Si qualite < 70% sur eval fidelite",
      "size_mb": 657
    },
    "selected": "2026-01-14"
  },

  "trainingData": {
    "sources": [
      {
        "name": "Reglement FFE - Lois des Echecs",
        "file": "LA-octobre2025.pdf",
        "type": "PDF",
        "version": "Octobre 2025",
        "pages": 227,
        "language": "fr",
        "corpus": "fr",
        "status": "A traiter (Phase 1A)"
      },
      {
        "name": "Manuel Arbitre FIDE",
        "file": "FIDE_Arbiters_Manual_2025.pdf",
        "type": "PDF",
        "version": "2025",
        "pages": 70,
        "language": "en",
        "corpus": "intl",
        "status": "A traiter (Phase 1A)"
      }
    ],
    "preprocessing": {
      "chunkSize": 256,
      "chunkOverlap": 50,
      "tokenizer": "tiktoken (cl100k_base)",
      "strategy": "semantic with sentence boundary",
      "schemaDoc": "docs/CHUNK_SCHEMA.md"
    }
  },

  "vectorStore": {
    "primary": {
      "type": "SqliteVectorStore",
      "framework": "Google AI Edge RAG SDK",
      "note": "SDK default, evaluation Phase 4A"
    },
    "alternatives": [
      {
        "type": "sqlite-vec",
        "framework": "Custom",
        "note": "A evaluer Phase 4A si gain RAM > 50MB"
      }
    ],
    "metric": "cosine",
    "estimatedVectors": "~600 chunks (500 FR + 100 INTL)"
  },

  "performance": {
    "targets": {
      "embeddingLatency": "<100ms",
      "retrievalLatency": "<500ms",
      "llmLatency": "<3s",
      "totalLatency": "<5s",
      "recallFR": ">=80%",
      "recallINTL": ">=70%",
      "hallucinationRate": "0%",
      "fidelity": ">=85%",
      "ramPeak": "<500MB"
    },
    "measured": {
      "embeddingLatency": "66ms (benchmark HuggingFace)",
      "llmLatency": "2-3s (estimate)",
      "note": "A completer apres Phase 2-3"
    }
  },

  "compliance": {
    "isoStandards": [
      "ISO/IEC 25010 - Software quality",
      "ISO/IEC 42001 - AI governance",
      "ISO/IEC 12207 - Software lifecycle",
      "ISO/IEC 29119 - Testing"
    ],
    "aiPolicy": "docs/AI_POLICY.md",
    "dataPrivacy": "Aucune donnee personnelle - Reglements publics uniquement",
    "offlineCapability": "100% offline apres installation initiale",
    "antiHallucination": {
      "grounding": "Strict - LLM recoit uniquement context retrieval",
      "citations": "Obligatoires sur chaque reponse",
      "testSet": "tests/data/adversarial.json (30 questions)",
      "threshold": "0% failure"
    }
  },

  "versioning": {
    "currentPhase": "Phase 1A - Pipeline de donnees",
    "modelVersion": "0.2.0",
    "changelog": [
      {
        "version": "0.2.0",
        "date": "2026-01-14",
        "changes": [
          "Stack valide: EmbeddingGemma-300M + Gemma 3 270M",
          "Specs Phase 1A documentees",
          "Schema chunks defini",
          "Roadmap complete creee",
          "Questions INTL completees (25)"
        ]
      },
      {
        "version": "0.1.0",
        "date": "2026-01-11",
        "changes": [
          "Phase 0 completee: fondations ISO",
          "Pre-commit hooks ISO-conformes",
          "Test coverage 99%",
          "Documentation complete"
        ]
      },
      {
        "version": "0.0.0",
        "date": "2026-01-10",
        "changes": [
          "Structure projet initiale",
          "Configuration DVC"
        ]
      }
    ]
  }
}
